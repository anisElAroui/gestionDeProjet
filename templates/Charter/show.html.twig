{% extends 'base.html.twig' %}

{% block main_content %}

    <div class="main_content">
        <div class="row">
            <div class="box">
                <div class="col-lg-12">

                    <h1>{{ charter.title }}</h1><br>

                    <a class="btn btn-primary" href="{{ path('charter_edit', { 'id': charter.id }) }}"><i class="glyphicon glyphicon-edit"></i> edit charter</a>

                    <h2>Project and Product Overview</h2><br>

                    <h3> 1- Project Identification</h3>

                    <label>Project Name :</label><p>{{ charter.projectName }}</p>
                    <label>Project Manager:</label><p>{{ charter.projectManager }}</p>
                    <label>Project Internal References :</label><p>{{ charter.projectInternalRefrances }}</p>
                    <label>Final Client :</label><p>{{ charter.finalClient }}</p>
                    <label>Client :</label><p>{{ charter.client }}</p>

                    <h3> 2- Project Description</h3> <p>{{ charter.projectDescription }}</p>

                    <h3> 3- Project repository</h3> <p>{{ charter.projectRepository }}</p><br>

                    <h2>Project scope</h2><br>

                    <h3>1- Objectives</h3> <p>{{ charter.objectives }}</p>

                    <h3>2- High Level Requirements</h3>

                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th>  High Level Requirements </th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for requirement in charter.requirements %}
                            <tr>
                                <td>{{ requirement.highLevelRequirement }}</td>
                            </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>

                    <h3>3- Major Deliverables</h3>

                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th> Major Deliverables </th>
                                <th> Deliverables Description </th>

                            </tr>
                            </thead>
                            <tbody>
                            {% for deliverable in charter.deliverables %}
                                <tr>
                                    <td>{{ deliverable.majorDeliverables }}</td>
                                    <td>{{ deliverable.deliverablesDescription }}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div><br>

                    <h2>Project Milestones & Waving</h2><br>

                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th> Executive Milestones </th>
                                <th> Estimated duration </th>
                                <th> Estimated Completion Timeframe </th>
                                <th> Comments </th>

                            </tr>
                            </thead>
                            <tbody>
                            {% for milestone in charter.milestones %}
                                <tr>
                                    <td>{{ milestone.executiveMilestones }}</td>
                                    <td>{{ milestone.estimatedDuration }}</td>
                                    <td>{{ milestone.estimatedCompletionTimeframe |date('Y-m-d') }}</td>
                                    <td>{{ milestone.comments }}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div><br>

                    <h2>Assumptions, Constraints</h2><br>

                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th> Assumptions </th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for assumption in charter.assumptions %}
                                <tr>
                                    <td>{{ assumption.assumptions }}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>

                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th> Constraints </th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for constraint in charter.constraints %}
                                <tr>
                                    <td>{{ constraint.constraints }}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div><br>

                    <h2>Project Budget</h2><br>

                    <h3> 1- Incomes (€)</h3>

                    <label>Proxym-IT Budget</label><p>{{ charter.budget }}</p>
                    <label>Proxym-IT man/ day affectation </label><p>{{ charter.incomesManDayAffection }}</p>

                    <h3> 2. Expenses (€)</h3>

                    <label>PMO agreed Wage expenses </label><p>{{ charter.agreedWageExpenses }}</p>
                    <label>Planned expenses budget</label><p>{{ charter.plannedExpensesBudget }}</p>
                    <label>Target profitability</label><p>{{ charter.targetProfitability }}</p>
                    <label>Threshold profitability</label><p>{{ charter.thresholdProfitability }}</p>
                    <label>PMO man day affectation</label><p>{{ charter.expensesManDayAffection }}</p>

                    <label>incomes & expenses</label>

                    <div class="table-responsive">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th> Profile </th>
                                    <th> Estimated duration </th>
                                    <th> Estimated Cost </th>
                                    <th> Comments </th>
                                    <th> Type </th>

                                </tr>
                                </thead>
                                <tbody>
                                {% for budget in charter.budgets  %}
                                    <tr>
                                        <td>{{ budget.profile }}</td>
                                        <td>{{ budget.estimatedDurationBudget }}</td>
                                        <td>{{ budget.estimatedCost }}</td>
                                        <td>{{ budget.budgetComments }}</td>
                                        <td>{{ budget.projectBudgetType }}</td>

                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                    </div>

                    <h3> 3. Billing</h3>

                    <label> Billing responsible</label> <p>{{ charter.billingResponsible }}</p>

                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th> description </th>
                                <th> amount </th>
                                <th> plannedDate </th>
                                <th> deliveredDate </th>

                            </tr>
                            </thead>
                            <tbody>
                            {% for billing in charter.billings %}
                                <tr>
                                    <td>{{ billing.billingDescription }}</td>
                                    <td>{{ billing.billingAmount }}</td>
                                    <td>{{ billing.billingPlanedDate |date('Y-m-d') }}</td>
                                    <td>{{ billing.billingDeliveredDate |date('Y-m-d') }}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>

                    <br>
                    <a class="btn btn-warning" href="{{ path('project_index') }}"><i class="glyphicon glyphicon-arrow-left"></i> Back to project list</a>

                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block sidebar %}
    {% include 'sidebar.html.twig' %}
{% endblock %}
