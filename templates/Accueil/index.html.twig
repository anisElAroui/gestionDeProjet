{% extends 'base.html.twig' %}

    {% block stylesheets %}

        <link rel="stylesheet" href="{{ asset(' https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap4.min.css ') }}">
        <link rel="stylesheet" href="{{ asset('https://cdn.datatables.net/responsive/2.2.1/css/responsive.bootstrap4.min.css') }}">

    {% endblock %}

    {% block breadCrumb %}
        {% include 'breadCrumb.html.twig' %}
    {% endblock %}

    {% block main_content %}

        <div class="container">
            <div class="row">
                <div class="box">
                    <div class="tac col-lg-12" >
                        <a class="btn btn-success pull-right " href="{{ path('add_new_project') }}"><i class="glyphicon glyphicon-plus"></i> Add a new project</a>

                        <h1>Project list</h1>

                        <br><br>
                        <div class="table-responsive">

                            {% if charters is defined and charters is not null  %}

                                <table id="example" class="table table-striped table-bordered nowrap"  >
                                    <thead>
                                    <tr>
                                        <th>  Id </th>
                                        <th>  projectName</th>
                                        <th>  project manager </th>
                                        <th>  budget</th>
                                        <th>  incomes</th>
                                        <th>  Expenses</th>
                                        <th>  plannedEndDate</th>
                                        <th>  realStartDate</th>
                                        <th>  done</th>
                                        <th>  endDate</th>
                                        <th>  Actions </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for charter in charters %}
                                        <tr>
                                            <td><a href="{{ path('project_show', { 'id': charter.id }) }}">{{ charter.id }}</a></td>
                                            <td>{{ charter.projectName }}</td>
                                            <td>{{ charter.projectManager }}</td>
                                            <td>{{ charter.budget }}</td>
                                            {#<td>{{ charter.incomes }}</td>#}
                                            <td></td>
                                            <td>{{ charter.plannedExpensesBudget }}</td>
                                            {#<td>{{ charter.plannedEndDate |date('Y-m-d')}}</td>#}
                                            <td></td>
                                            {#<td>{{ charter.realStartDate |date('Y-m-d')}}</td>#}
                                            <td></td>
                                            {#<td>{{ charter.done }}</td>#}
                                            <td></td>
                                            {#<td>{{ charter.endDate |date('Y-m-d') }}</td>#}
                                            <td></td>

                                            <td>
                                                <a class="btn btn-info" href="{{ path('charter_show', { 'id': charter.id }) }}"><i class="glyphicon glyphicon-eye-open"></i> show</a>

                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            {%endif%}
                        </div>


                    </div>
                </div>
            </div>
        </div>
    {% endblock %}

    {% block javascripts %}

        <script>
            $(document).ready(function() {
                $('#example').DataTable( {
                    responsive: {
                        details: {
                            display: $.fn.dataTable.Responsive.display.modal( {
                                header: function ( row ) {
                                    var data = row.data();
                                    return 'Details for '+data[0]+' '+data[1];
                                }
                            } ),
                            renderer: $.fn.dataTable.Responsive.renderer.tableAll( {
                                tableClass: 'table'
                            } )
                        }
                    }
                } );
            } );

        </script>
        <script src="{{ asset('https://code.jquery.com/jquery-1.12.4.js') }}"></script>
        <script src="{{ asset('https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.min.js|https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js') }}"></script>
        <script src="{{ asset('https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js') }}"></script>
        <script src="{{ asset('https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js') }}"></script>
        <script src="{{ asset('https://cdn.datatables.net/responsive/2.2.1/js/dataTables.responsive.min.js') }}"></script>
        <script src="{{ asset('https://cdn.datatables.net/responsive/2.2.1/js/responsive.bootstrap4.min.js') }}"></script>

    {% endblock %}